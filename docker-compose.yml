# See https://docs.docker.com/compose/compose-file/

version: '3'
services:
  docket-redis:
    container_name: docket-redis
    image: redis:5.0.3
    ports:
      - '6379:6379'
  docket-mongo:
    container_name: docket-mongo
    image: mongo:4.0.3
    ports:
      - '27017:27017'
    # environment:
    #   MONGO_INITDB_ROOT_USERNAME: ''
    #   MONGO_INITDB_ROOT_PASSWORD: 'root'
  docket-api:
    # entrypoint: ["./docker-entrypoint.sh"]
    container_name: docket-api
    build: .
    command: npm run start
    volumes:
      - ../docket-api:/docket/docket-api
    ports:
      - '3000:3000'
    depends_on:
      - docket-mongo
      - docket-redis
    links:
      - docket-mongo
      - docket-redis
